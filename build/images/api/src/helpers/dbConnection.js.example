const mysql = require('mysql');

const connection = mysql.createConnection({
    host: {container_name of store in docker-compose.yml},
    port: 3306,
    user: {your mysql root user},
    password: {your mysql root password}
  });
 
connection.connect(function(err) {
  if (err) {
    console.error('error connecting: ' + err.stack);
    return;
  }
 
  console.log('connected as id ' + connection.threadId);
});

const createDatabaseQuery = `CREATE DATABASE IF NOT EXISTS devV`;

connection.query(createDatabaseQuery, function (error, results, fields) {
  if (error) throw error;
});

const useDatabaseQuery = `USE devV`;

connection.query(useDatabaseQuery, function (error, results, fields) {
  if (error) throw error;
});

module.exports = connection;